<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="620" viewBox="0 0 1200 620" role="img" aria-labelledby="title desc">
  <title id="title">GDIS End-to-End Lifecycle</title>
  <desc id="desc">Policy-driven MRZ and NFC evidence handling from issuance to verifier outputs with separate mechanical and recognition results.</desc>
  <defs>
    <style>
      .bg { fill: #f6f8fb; }
      .box { fill: #ffffff; stroke: #1f3a5f; stroke-width: 2; rx: 12; ry: 12; }
      .head { fill: #1f3a5f; font: 700 20px sans-serif; }
      .txt { fill: #203247; font: 16px sans-serif; }
      .arrow { stroke: #1f3a5f; stroke-width: 2.5; marker-end: url(#m); fill: none; }
    </style>
    <marker id="m" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L10,3 L0,6 z" fill="#1f3a5f"/>
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="620"/>

  <rect class="box" x="30" y="70" width="220" height="150"/>
  <text class="head" x="46" y="106">1. Governance Policy</text>
  <text class="txt" x="46" y="136">PID fields, regex rules,</text>
  <text class="txt" x="46" y="161">physicalValidityProfileId,</text>
  <text class="txt" x="46" y="186">trust source refs</text>

  <rect class="box" x="275" y="70" width="220" height="150"/>
  <text class="head" x="291" y="106">2. Intake</text>
  <text class="txt" x="291" y="136">MRZ extraction</text>
  <text class="txt" x="291" y="161">+ NFC chip checks</text>
  <text class="txt" x="291" y="186">when policy requires</text>

  <rect class="box" x="520" y="70" width="220" height="150"/>
  <text class="head" x="536" y="106">3. Binding</text>
  <text class="txt" x="536" y="136">subjectBindingValue</text>
  <text class="txt" x="536" y="161">+ endpointBindingValue</text>
  <text class="txt" x="536" y="186">+ physical validity evidence</text>

  <rect class="box" x="765" y="70" width="220" height="150"/>
  <text class="head" x="781" y="106">4. VC Issuance</text>
  <text class="txt" x="781" y="136">GDIS binding credential</text>
  <text class="txt" x="781" y="161">to DID with GQSCD</text>
  <text class="txt" x="781" y="186">controller evidence</text>

  <rect class="box" x="950" y="290" width="220" height="160"/>
  <text class="head" x="966" y="326">5. Verifier Output</text>
  <text class="txt" x="966" y="356">mechanicalValidity</text>
  <text class="txt" x="966" y="381">recognitionStatus</text>
  <text class="txt" x="966" y="406">+ decision/failure code</text>
  <text class="txt" x="966" y="431">+ freshness checks</text>

  <rect class="box" x="530" y="290" width="390" height="160"/>
  <text class="head" x="546" y="326">6. Publication and Status</text>
  <text class="txt" x="546" y="356">Host profile (for example GQTS)</text>
  <text class="txt" x="546" y="381">publishes status, revocation,</text>
  <text class="txt" x="546" y="406">and key-history evidence</text>
  <text class="txt" x="546" y="431">for verifier retrieval</text>

  <rect class="box" x="120" y="470" width="520" height="110"/>
  <text class="head" x="136" y="506">7. Revocation Timeline</text>
  <text class="txt" x="136" y="536">Signed timestamped status events define validity intervals.</text>
  <text class="txt" x="136" y="561">Claims after kill-time are rejected; history remains auditable.</text>

  <line class="arrow" x1="250" y1="150" x2="275" y2="150"/>
  <line class="arrow" x1="495" y1="150" x2="520" y2="150"/>
  <line class="arrow" x1="740" y1="150" x2="765" y2="150"/>
  <path class="arrow" d="M975,150 C1075,160 1095,235 1060,290"/>
  <line class="arrow" x1="950" y1="370" x2="920" y2="370"/>
  <path class="arrow" d="M530,430 C430,475 350,500 250,500"/>
</svg>
